# ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤

`embed.diagrams.net` ã®ä»£ã‚ã‚Šã« draw.io ã‚’ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆã™ã‚‹ã“ã¨ã§ã€AIO Canvas ã‚’ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™ã€‚

**æ³¨:** `NEXT_PUBLIC_DRAWIO_BASE_URL` ã¯**ãƒ“ãƒ«ãƒ‰æ™‚**ã®å¤‰æ•°ã§ã™ã€‚ã“ã‚Œã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ã§ã™ã€‚

## Docker Compose ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã€`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã« API ã‚­ãƒ¼ã‚’å®šç¾©ã—ã¾ã™ã€‚
2. `docker-compose.yml` ã‚’ä½œæˆã—ã¾ã™ã€‚

```yaml
services:
  drawio:
    image: jgraph/drawio:latest
    ports: ["8080:8080"]
  canvas-a-i-o:
    build:
      context: .
      args:
        - NEXT_PUBLIC_DRAWIO_BASE_URL=http://localhost:8080
    ports: ["3000:3000"]
    env_file: .env
    depends_on: [drawio]
```

3. `docker compose up -d` ã‚’å®Ÿè¡Œã—ã€`http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

## è¨­å®šã¨é‡è¦ãªè­¦å‘Š

**`NEXT_PUBLIC_DRAWIO_BASE_URL` ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚**

| ã‚·ãƒŠãƒªã‚ª | URL ã®å€¤ |
|----------|-----------|
| ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆ | `http://localhost:8080` |
| ãƒªãƒ¢ãƒ¼ãƒˆ/ã‚µãƒ¼ãƒãƒ¼ | `http://YOUR_SERVER_IP:8080` |

**`http://drawio:8080` ã®ã‚ˆã†ãª Docker å†…éƒ¨ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯çµ¶å¯¾ã«ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚** ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã“ã‚Œã‚‰ã‚’åå‰è§£æ±ºã§ãã¾ã›ã‚“ã€‚
